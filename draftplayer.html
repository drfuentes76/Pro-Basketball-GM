<!DOCTYPE html>
<html>
<head>
  <title>🎯 Draft Player</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body { background: #e0f7fa; font-family: sans-serif; }
    h1 { color: #006064; text-align: center; }
    select, button { display: block; margin: 10px auto; padding: 10px; width: 90%; max-width: 400px; }
    .result { background: white; padding: 10px; margin: 20px auto; width: 90%; max-width: 600px; border-radius: 5px; border: 1px solid #ccc; text-align: center; }
  </style>
</head>
<body>
<h1>🎯 Draft Player</h1>

<select id="teamSelect"></select>
<select id="playerSelect"></select>
<button onclick="draftPlayer()">Draft Player</button>

<div id="result" class="result"></div>

<div class="navbar">
  <a href="index.html">🏠 Home</a>
  <a href="scouting.html">📝 Scouting</a>
  <a href="mockdraft.html">🧠 Mock Draft</a>
  <a href="lottery.html">🎲 Lottery</a>
</div>

<script>
const gameState = JSON.parse(localStorage.getItem("basketballGM")) || {};
if (!gameState.draftedPlayers) gameState.draftedPlayers = [];

const teams = ["My Team", ...Object.keys(gameState.teams || {})];
const prospects = [
  { name: "Jaylen Hawk", pos: "SG", rating: 82 },
  { name: "Tariq Monroe", pos: "PF", rating: 81 },
  { name: "Oscar Mendes", pos: "PG", rating: 80 },
  { name: "Kevin Dai", pos: "C", rating: 79 },
  { name: "Roman Osei", pos: "SF", rating: 78 },
  { name: "Armin Geller", pos: "SG", rating: 77 },
  { name: "K.C. Walton", pos: "PF", rating: 76 },
  { name: "Marco Valdez", pos: "PG", rating: 75 },
  { name: "Corey Knox", pos: "SF", rating: 74 },
  { name: "Terrance Duke", pos: "C", rating: 73 },
  { name: "Lazaro Benton", pos: "SG", rating: 72 },
  { name: "Elijah Shaw", pos: "SF", rating: 71 },
  { name: "Chase Randle", pos: "PG", rating: 70 },
  { name: "Zion Harlow", pos: "C", rating: 69 },
  { name: "Trent Boykin", pos: "PF", rating: 68 }
];

const teamSelect = document.getElementById("teamSelect");
const playerSelect = document.getElementById("playerSelect");
const resultDiv = document.getElementById("result");

function renderOptions() {
  teamSelect.innerHTML = "";
  teams.forEach(team => {
    const opt = document.createElement("option");
    opt.value = team;
    opt.textContent = team;
    teamSelect.appendChild(opt);
  });

  playerSelect.innerHTML = "";
  prospects.forEach(p => {
    if (!gameState.draftedPlayers.includes(p.name)) {
      const opt = document.createElement("option");
      opt.value = p.name;
      opt.textContent = `${p.name} (${p.pos}) - ${p.rating}`;
      playerSelect.appendChild(opt);
    }
  });
}

function draftPlayer() {
  const team = teamSelect.value;
  const playerName = playerSelect.value;
  const prospect = prospects.find(p => p.name === playerName);
  if (!prospect) return;

  const player = { ...prospect, age: 20, contract: 4.5 };
  if (team === "My Team") {
    gameState.roster = gameState.roster || [];
    gameState.roster.push(player);
  } else {
    gameState.teams[team].roster = gameState.teams[team].roster || [];
    gameState.teams[team].roster.push(player);
  }

  gameState.draftedPlayers.push(playerName);
  localStorage.setItem("basketballGM", JSON.stringify(gameState));
  resultDiv.textContent = `${playerName} drafted by ${team}!`;
  renderOptions();
}

renderOptions();
</script>
</body>
</html>
