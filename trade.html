<!DOCTYPE html>
<html>
<head><title>ğŸ’¼ Trades</title><link rel="stylesheet" href="style.css" /></head>
<body>
  <h1>ğŸ’¼ Trade a Player</h1>
  <select id="playerSelect"></select>
  <button onclick="tradePlayer()">Trade</button>
  <pre id="output"></pre>
  <div class="nav"><a href="index.html">â¬…ï¸ Main Menu</a></div>
  <script>
    const gameState = JSON.parse(localStorage.getItem("basketballGM")) || {};
    const select = document.getElementById("playerSelect");
    gameState.roster.forEach(p => {
      const opt = document.createElement("option");
      opt.value = p.name;
      opt.textContent = p.name;
      select.appendChild(opt);
    });

    function tradePlayer() {
      const name = select.value;
      const idx = gameState.roster.findIndex(p => p.name === name);
      if (idx >= 0) {
        const removed = gameState.roster.splice(idx, 1)[0];
        const newGuy = {
          name: "Tradee " + Math.floor(Math.random() * 1000),
          position: "SF",
          rating: Math.floor(Math.random() * 30 + 70),
          age: 24,
          morale: "Neutral"
        };
        gameState.roster.push(newGuy);
        gameState.news.push(`ğŸ” Traded ${removed.name} for ${newGuy.name}`);
        localStorage.setItem("basketballGM", JSON.stringify(gameState));
        document.getElementById("output").textContent = `Traded ${removed.name} â¡ï¸ ${newGuy.name}`;
      }
    }
  </script>
</body>
</html>
