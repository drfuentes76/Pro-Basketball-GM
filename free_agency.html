<!DOCTYPE html>
<html>
<head><title>ğŸ“ Free Agency</title><link rel="stylesheet" href="style.css" /></head>
<body>
  <h1>ğŸ“ Sign Free Agents</h1>
  <select id="faSelect"></select>
  <button onclick="signPlayer()">Sign Player</button>
  <pre id="output"></pre>
  <div class="nav"><a href="index.html">â¬…ï¸ Main Menu</a></div>
  <script>
    const gameState = JSON.parse(localStorage.getItem("basketballGM")) || {};
    const freeAgents = [
      {name: "Free Agent 1", rating: 75, age: 26, desiredSalary: 6},
      {name: "Free Agent 2", rating: 78, age: 28, desiredSalary: 8},
      {name: "Free Agent 3", rating: 73, age: 29, desiredSalary: 5}
    ];

    const select = document.getElementById("faSelect");
    freeAgents.forEach(fa => {
      const opt = document.createElement("option");
      opt.value = JSON.stringify(fa);
      opt.textContent = `${fa.name} - ${fa.rating} OVR, Wants $${fa.desiredSalary}M`;
      select.appendChild(opt);
    });

    function signPlayer() {
      const player = JSON.parse(select.value);
      const accepted = Math.random() > 0.3;
      if (accepted) {
        gameState.roster.push({...player, morale: "Happy"});
        gameState.news.push(`ğŸ“ Signed ${player.name} for $${player.desiredSalary}M`);
        document.getElementById("output").textContent = `Signed ${player.name} to your roster.`;
      } else {
        document.getElementById("output").textContent = `${player.name} declined your offer.`;
      }
      localStorage.setItem("basketballGM", JSON.stringify(gameState));
    }
  </script>
</body>
</html>
