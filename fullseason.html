<!DOCTYPE html>
<html>
<head>
  <title>📊 Full Game & Box Score</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body { background: #fffde7; font-family: sans-serif; }
    h1 { color: #f9a825; text-align: center; }
    button { display: block; margin: 15px auto; padding: 10px 20px; font-size: 16px; }
    #log, #boxscore { width: 90%; margin: 20px auto; background: #fff; padding: 10px; border: 1px solid #ccc; min-height: 100px; white-space: pre-wrap; }
    h3 { margin-top: 40px; text-align: center; }
  </style>
</head>
<body>
<h1>📊 Game Simulation</h1>
<button onclick="simulateSeason()">Sim Full Season</button>
<button onclick="simulateGame()">Watch Play-by-Play</button>

<div id="log">📺 Game log will appear here...</div>
<h3>📋 Box Score</h3>
<div id="boxscore">🧾 Final stats summary will appear here...</div>

<div class="navbar">
  <a href="index.html">🏠 Home</a>
  <a href="roster.html">📋 Roster</a>
</div>

<script>
const log = document.getElementById("log");
const boxscore = document.getElementById("boxscore");

function simulateSeason() {
  log.textContent = "🔁 Simulating full season...
";
  let wins = 0, losses = 0;
  for (let i = 1; i <= 82; i++) {
    const win = Math.random() < 0.5;
    win ? wins++ : losses++;
  }
  log.textContent += `🏁 Final Record: ${wins}-${losses}`;
  boxscore.textContent = "";
}

function simulateGame() {
  log.textContent = "🏀 Tipoff! Watching full game...

";
  boxscore.textContent = "";
  const actions = [
    { desc: "makes a 3-pointer!", pts: 3 },
    { desc: "drives for a layup!", pts: 2 },
    { desc: "dunks it down!", pts: 2 },
    { desc: "hits a jumper!", pts: 2 },
    { desc: "makes a free throw.", pts: 1 },
    { desc: "misses badly.", pts: 0 },
    { desc: "commits a turnover.", pts: 0 },
    { desc: "steals and scores!", pts: 2 },
    { desc: "draws a foul!", pts: 0 }
  ];

  let play = 0;
  let stats = {
    You: { pts: 0, fgm: 0, fga: 0 },
    Opponent: { pts: 0, fgm: 0, fga: 0 }
  };

  const interval = setInterval(() => {
    const team = Math.random() < 0.5 ? "You" : "Opponent";
    const action = actions[Math.floor(Math.random() * actions.length)];
    log.textContent += `Play ${++play}: ${team} ${action.desc}
`;
    stats[team].fga++;
    if (action.pts > 0) {
      stats[team].fgm++;
      stats[team].pts += action.pts;
    }

    if (play >= 20) {
      clearInterval(interval);
      log.textContent += "
🏁 Game Over!
";
      boxscore.textContent = 
        `📊 Box Score
` +
        `You      - PTS: ${stats.You.pts}, FGM: ${stats.You.fgm}/${stats.You.fga}
` +
        `Opponent - PTS: ${stats.Opponent.pts}, FGM: ${stats.Opponent.fgm}/${stats.Opponent.fga}`;
    }
  }, 500);
}
</script>
</body>
</html>
